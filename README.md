# pandas-challenge
Module 4 Challenge - UWA/edX Data Analytics Bootcamp

Github repository at: [https://github.com/alyssahondrade/pandas-challenge.git](https://github.com/alyssahondrade/pandas-challenge.git)

## Table of Contents
1. [Introduction](https://github.com/alyssahondrade/pandas-challenge/blob/main/README.md#introduction)
    1. [Goal](https://github.com/alyssahondrade/pandas-challenge/blob/main/README.md#goal)
    2. [Repository Structure](https://github.com/alyssahondrade/pandas-challenge/blob/main/README.md#repository-structure)
    3. [Dataset](https://github.com/alyssahondrade/pandas-challenge/blob/main/README.md#dataset)
2. [Approach](https://github.com/alyssahondrade/pandas-challenge/blob/main/README.md#approach)
    1. [Initial Dataframe](https://github.com/alyssahondrade/pandas-challenge/blob/main/README.md#initial-dataframe)
    2. [Local Government Area (LGA) Summary](https://github.com/alyssahondrade/pandas-challenge/blob/main/README.md#local-government-area-lga-summary)
    3. [School Summary](https://github.com/alyssahondrade/pandas-challenge/blob/main/README.md#school-summary)
    4. [Top and Bottom Performing Schools (by % Overall Passing)](https://github.com/alyssahondrade/pandas-challenge/blob/main/README.md#top-and-bottom-performing-schools-by--overall-passing)
    5. [Maths and Reading Scores by Year](https://github.com/alyssahondrade/pandas-challenge/blob/main/README.md#maths-and-reading-scores-by-year)
    6. [Scores by School Spending and School Size](https://github.com/alyssahondrade/pandas-challenge/blob/main/README.md#scores-by-school-spending-and-school-size)
    7. [Scores by School Type](https://github.com/alyssahondrade/pandas-challenge/blob/main/README.md#scores-by-school-type)
3. [Analysis & Results](https://github.com/alyssahondrade/pandas-challenge/blob/main/README.md#analysis--results)
4. [References](https://github.com/alyssahondrade/pandas-challenge/blob/main/README.md#references)

## Introduction
### Goal
The goal of this analysis is to aggregate the provded data to identify trends in school performance.

The task is broken down into sections, each requiring a dataframe as an output (provided in [Analysis & Results](https://github.com/alyssahondrade/pandas-challenge/blob/main/README.md#analysis--results)).
- Local Government Area (LGA) Summary - `area_summary`
- School Summary - `per_school_summary`
- Highest Performing Schools (by % Overall Passing) - `top_schools`
- Lowest Performing Schools (by % Overall Passing) - `bottom_schools`
- Maths Scores by Year - `maths_scores_by_year`
- Reading Scores by Year - `reading_scores_by_year`
- Scores by School Spending - `spending_summary`
- Scores by School Size - `size_summary`
- Scores by School Type - `type_summary`

### Repository Structure
- `PyCitySchools` directory contains the Jupyter notebook of the same name.
- `Resources` directory contains the datasets: [`schools_complete.csv`](https://github.com/alyssahondrade/pandas-challenge/blob/main/Resources/schools_complete.csv) and [`students_complete.csv`](https://github.com/alyssahondrade/pandas-challenge/blob/main/Resources/students_complete.csv).

### Dataset
The datasets were generated by **Mockaroo, LLC (2022) Realistic Data Generator** and **edX Boot Camps LLC**.

## Approach
### Initial Dataframe
1. Renamed column headings for consistency.
2. Rearranged columns so that student details and school details are separated, for readability.
3. Merge results confirmed using `.head()`

### Local Government Area (LGA) Summary
1. For each requested calculation, set the result to a variable.
2. Pass the variables to a dictionary, then to create a dataframe.
3. Format the **"Total Students"** and **"Total Budget"** columns using the `.map()` function.

### School Summary
1. Create a variable that holds the list of **unique school names**, this list will be enumerated in the for-loop later.
2. Initialise lists to hold column values, this will be converted to a dictionary, then a dataframe.
3. In the for-loop, append each school result to the correct list.
    1. Create a variable that holds `school_name` as a condition. Doing so will minimise repetition, as this will be used in the `.loc` method throughout the for-loop.
    2. For **"School Type"** and **"School Budget"**, access the value of the array at `index = 0`, as the result is an array of length 1.
    3. For percentage results:
        1. Get the passing conditions.
        2. Find the number of students which satisfy the conditions, returning a count of "School ID".
        3. Calculate the percentage by dividing the total students per school.      
4. Create a dictionary of lists and convert it to a dataframe. Use the list of **unique school names** as the index and sort alphabetically.
5. Format the **"Total School Budget"** and **"Per Student Budget"** using the `.style.format()` function instead of the `.map()` function.
    1. `.map()` will change the datatype to an `object`, which is problematic when the dataframe is used for calculations later.
    2. `.style.format()` will only affect the displayed result and not alter the datatype. It is not persistent and will need to be run at every cell that requires formatting of the original dataframe.

### Top and Bottom Performing Schools (by % Overall Passing)
1. Use the dataframe from **School Summary** and sort by **"% Overall Passing"**.
2. For top schools, set `ascending=False`, and for bottom schools, although the default is `True`, set `ascending=True` for clarity.
3. `.head()` will always return the first 5 rows if a number is not specified.

### Maths and Reading Scores by Year
1. Declare a list for each year group.
2. Using a nested for-loop, loop over the list of unique schools, as well as for each year group.
    1. Use if-elif statements to populate the correct list.
    2. Use `.loc` to find all the maths/reading scores for each year in each school.
    3. Calculate the average using `.mean()`.
3. Use the lists to create a Series, grouping by the list of unique school names.
    - As it is a `groupby()` object, a function is required to access the data. It does not matter whether `.sum()` or `.mean()` is used as each cell in the dataframe contains only 1 value. However, `.mean()` is used as it is most logical.
4. Combine the series into a dataframe using the `pd.concat()` function about `axis=1`.

### Scores by School Spending and School Size
1. Use the provided code to create the bins and labels.
2. Get a dataframe with all the required columns using `.loc` on the `per_school_summary` dataframe from **School Summary**.
3. Use `pd.cut()` to bin the **"Per Student Budget"** column (or **"School Size"** column), applying the correct bins and labels.
4. Set the binned column as the index and update the index name.
5. Condense the rows to the correct ranges by using the `groupby().mean()`.

### Scores by School Type
1. Create a dataframe from `per_school_summary` with all the required columns, including **"School Type"**, as this is needed to group-by later.
2. Use `groupby().mean()` over the **"School Type"**.

## Analysis & Results


## References

